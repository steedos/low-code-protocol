---
title: 对象元数据
description: 定义对象的基本属性。
---

## 对象 .object.yml

定义对象名称、显示名称、对象的基本信息，以及功能开关。

```yaml
name: contracts
enable_api: true
enable_audit: true
enable_chatter: false
enable_events: false
enable_files: true
enable_inline_edit: true
enable_instances: false
enable_notes: false
enable_search: true
enable_share: true
enable_tasks: false
enable_trash: true
enable_workflow: true
enable_enhanced_lookup: true
icon: contract
is_enable: true
label: 合同
version: 2
```

| 属性名 | 属性类型 | 属性含义 |
|----|----|----|
| datasource | master_detail | 数据源 |
| label | text | 显示名 |
| name | text | API 名称 |
| icon | lookup | 图标 |
| is_enable | boolean | 启用 |
| in_development | select | 开发状态 |
| enable_search | boolean | 允许搜索 |
| enable_files | boolean | 允许上传附件 |
| enable_tasks | boolean | 允许添加任务 |
| enable_notes | boolean | 允许添加备注 |
| enable_events | boolean | 允许添加事件 |
| enable_share | boolean | 允许共享记录 |
| enable_api | boolean | 允许 API 访问 |
| enable_workflow | boolean | 允许配置对象流程 |
| enable_instances | boolean | 允许查看申请单 |
| enable_chatter | boolean | 允许添加留言 |
| enable_audit | boolean | 记录字段历史 |
| enable_inline_edit | boolean | 允许编辑单个字段 |
| enable_tree | boolean | 启用树状结构显示记录 |
| enable_enhanced_lookup | boolean | 启用弹出窗口查找模式 |
| table_name | text | 数据库表名称 |
| version | number | 版本 |
| description | textarea | 备注 |
| custom | boolean | 自定义 |
| owner | lookup | 拥有者 |
| is_system | boolean | 系统 |
| fields_serial_number | number | fields_serial_number |
| is_deleted | boolean | 已删除 |
| created_by | lookup | 创建人 |
| modified_by | lookup | 修改人 |
| form | object | 表单事件 |
| form.onValuesChange | code | 数据变化时 |
| form.initialValues | code | 初始化数据 |
| form.beforeDelete | code | 删除数据之前 |
| form.afterDelete | code | 删除数据之后 |
| form.beforeView | code | 记录显示之前 |
| form.afterView | code | 记录显示之后 |

<!--
TODO: 需要排查的部分
| sidebar | object | 左侧列表 |
| relatedList | grid | Related List |
| app_unique_id | text | App Unique ID |
| app_version | text | App Version |
| fields_serial_number | number | fields_serial_number |
| reload_time | datetime | reload_time |

| form.validate | code | 验证数据 |
| form.beforeInsert | code | 新增数据之前 |
| form.beforeUpdate | code | 修改数据之前 |
| form.afterInsert | code | 新增数据之后 |
| form.afterUpdate | code | 修改数据之后 |
| form.errorInsert | code | 新增数据报错之后 |
| form.errorUpdate | code | 修改数据报错之后 |
| form.errorDelete | code | 删除数据报错之后 |
| form.beforeEdit | code | 编辑页面显示之前 |
| form.afterEdit | code | 编辑页面显示之后 |
-->


补充说明：

- **datasource**：数据源，存在“默认数据源”和“外部数据源（oracle等）”，默认值为“默认数据源”。
- **name**：API 名称, 表单事件、触发器等中调用该字段所用的名称。
- **icon**：图标， 对象图标对应 salesforce 中的 [Standard Icons](https://www.lightningdesignsystem.com/icons/#standard) 。
- **is_enable**：启用，该对象是否启用。
- **in_development**：开发状态，分“开发中（仅管理员才可以访问对象）” 和“已部署”。
- **enable_search**：允许搜索，全局搜索。
- **enable_files**：允许上传附件，开启后详细页存在附件子表。
- **enable_tasks**：允许添加任务，开启后详细页存在任务子表。
- **enable_notes**：允许添加备注，开启后详细页存在备忘子表。
- **enable_events**：允许添加事件，开启后详细页存在日程子表。
- **enable_api**：允许 API 访问，关闭后,不会将对象服务的actions转化为rest接口
- **enable_workflow**：允许配置对象流程，设置审批流程功能必须开启此属性。
- **enable_instances**：允许查看申请单，开启后详细页存在审批子表。
- **enable_chatter**：允许添加留言，开启后详细页同级菜单栏有留言子页面。
- **enable_audit**：记录字段历史，开启后详细页存在审计日志子表，记录字段修改历史。
- **enable_inline_edit**：允许编辑单个字段，开启后列表页允许编辑字段保存。
- **enable_tree**：启用树状结构显示记录，在记录列表页以树状结构显示记录。
- **enable_trash**:	如果为true,则开启回收站功能，此对象数据删除后，会进入回收站。如果为false，则直接删除 。
- **enable_enhanced_lookup**：启用弹出窗口查找模式,当开启增强lookup模式时，指向该对象的lookup字段会弹出窗口显示可选项！
- **table_name**：数据库表名称，引用外部数据源的数据库表名称。
- **version**：版本，表单版本，目前默认是2.0。
- **description**：备注, 该对象备注信息。
- **custom**：自定义，该对象是否是自定义对象。
- **is_system**：系统，该对象是否是系统内置标准对象。
- **is_deleted**：已删除，该对象是否已删除。
- **form**：表单事件
- **form.onValuesChange**：数据变化时执行的函数
- **form.initialValues**：初始化数据时执行的函数
- **form.beforeDelete**：删除数据之前执行的函数
- **form.afterDelete**：删除数据之后执行的函数
- **form.beforeView**：记录显示之前执行的函数
- **form.afterView**：记录显示之后执行的函数

## 字段 .field.yml

定义字段名称、字段类型以及具体属性。

```yaml
name: await_proceeds
type: summary
data_type: number
filterable: false
group: 收款信息
hidden: true
index: false
is_name: false
is_wide: false
label: 收款累计(待收款)
omit: false
precision: 18
readonly: true
required: false
scale: 2
searchable: false
sort_no: 500
sortable: true
summary_field: amount
summary_filters:
  - field: contract_receipts_state
    operation: '='
    value: unreceived
summary_object: finance_receive
summary_type: sum
```

| 属性名 | 属性类型 | 属性含义 |
|----|----|----|
| object | master_detail | 所属对象 |
| label | text | 显示名称 |
| _name | text | 字段名 |
| name | text | API 名称 |
| type | select | 字段类型 |
| defaultValue | text | 默认值 |
| group | text | 字段分组 |
| reference_to | lookup | 引用对象 |
| multiple | boolean | 多选 |
| write_requires_master_read | boolean | 当用户对主表记录有读取权限时对子表记录可以增删改 |
| formula | textarea | 公式 |
| data_type | select | 数据类型 |
| filtersFunction | textarea | 过滤器函数 |
| optionsFunction | textarea | 选择项函数 |
| precision | currency | 精度(数字长度) |
| scale | currency | 小数位数 |
| rows | currency | 多行文本行数 |
| options | grid | 选择项 |
| options.$ | object | Options |
| options.$.label | text | 显示名 |
| options.$.value | text | 选项值 |
| options.$.color | text | 背景颜色 |
| options.$.description | text | 描述 |
| formula_blank_value | select | 空白字段处理 |
| summary_object | lookup | 要汇总的对象 |
| summary_type | select | 汇总类型 |
| summary_field | lookup | 要聚合的字段 |
| summary_filters | grid | 过滤条件 |
| summary_filters.$ | object | Filter Criteria |
| summary_filters.$.field | lookup | 字段 |
| summary_filters.$.operation | lookup | 运算符 |
| summary_filters.$.value | text | 值 |
| column_name | text | 数据库字段名 |
| primary | boolean | 主键 |
| generated | boolean | 自增 |
| sort_no | number | 排序号 |
| is_name | boolean | 名称字段 |
| required | boolean | 必填 |
| is_wide | boolean | 宽字段 |
| readonly | boolean | 只读 |
| hidden | boolean | 隐藏 |
| index | boolean | 创建索引 |
| sortable | boolean | 可排序 |
| searchable | boolean | 可搜索 |
| filterable | boolean | 过滤器默认字段 |
| show_as_qr | boolean | 显示为二维码 |
| visible_on | textarea | 字段显示公式 |
| inlineHelpText | textarea | 提示文本 |
| description | textarea | 描述 |

补充说明：
- **_name**: 字段名
- **name**: API 名称, 表单事件、触发器等中调用该字段所用的名称。
- **reference_to**: 引用对象， 只有“相关表”和“主表/子表”字段类型才显示此属性。
- **multiple**: 多选，启用后可以保存多个值。
- **write_requires_master_read**: 当用户对主表记录有读取权限时对子表记录可以增删改,  此字段仅适用于master_detail字段类型。true--允许具有'读取'访问权限的用户创建、编辑或删除子记录。false = 允许具有'读取/写入'访问权限的用户创建、编辑或删除子记录的权限。此设置比 true 更严格，并且是默认值。 
- **formula**: 公式，通过用户定义的算法自动计算字段的值。
- **data_type**: 数据类型， 保存到数据库中的值类型。
- **filtersFunction**: 过滤器函数
- **optionsFunction**: 选择项函数
- **rows**: 多行文本行数， 只有“长文本”字段类型才显示此属性。
- **options**: 选择项， 只有“选择框”字段类型才显示此属性。
- **options.$**: 选择项
- **options.$.label**: 显示名
- **options.$.value**: 选项值
- **options.$.color**: 背景颜色
- **options.$.description**: 描述
- **formula_blank_value**: 空白字段处理, zeroes表示将空白字段视为零，blanks表示将空白字段视为空白，默认为zeroes 。
- **summary_object**: 要汇总的对象, 只有“累计汇总”字段类型才显示此属性。
- **summary_type**: 汇总类型, 含有COUNT、SUM、MIN、MAX、AVG这五个选择项。
- **summary_field**: 要聚合的字段
- **summary_filters**: 过滤条件
- **summary_filters.$**: 过滤条件
- **summary_filters.$.field**: 字段
- **summary_filters.$.operation**: 运算符
- **summary_filters.$.value**: 值
- **column_name**: 数据库字段名, 仅支持关系型数据库。
- **primary**: 主键, 勾选其“外部数据源”栏的“主键”勾选框来把该字段设置为主键字段，仅支持关系型数据库。
- **generated**: 字段自增， 仅支持关系型数据库。
- **is_name**: 名称字段, 勾选该属性表示此字段会代替name字段作为“名称字段”。对象上默认以名为name的字段作为”名称字段”,点击“名称字段”会跳转到记录详细页面，支持配置为”名称字段“的字段类型有：文本、多行文本、自动编号、公式、日期、日期时间。
- **is_wide**: 宽字段，普通字段详细页占一列，宽字段占两列。
- **index**: 创建索引，设置true时会自动为数据库字段创建索引。
- **show_as_qr**: 显示为二维码，只有”网址“”字段类型才显示此属性，开启后该字段值只读时显示为二维码。
- **visible_on**: 字段显示公式，公式返回true或false来控制此字段是否显示。
- **inlineHelpText**: 提示文本，详细页该字段显示名称右侧提供一个提示文本的图标。

<!--
- **filterable**: 过滤器默认字段
-->